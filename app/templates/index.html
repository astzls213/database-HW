{% extends 'main_base.html' %}

{% block panel_head %}
消息
{% endblock %}

{% block panel_body %}
{% for tag, msg in get_flashed_messages(with_categories=true) %}
<div class="alert alert-{{ tag }}" role="alert">
    {{ msg }}
</div>
{% endfor %}
<p>
    这是一个期刊管理系统。这里可以显示欢迎信息，以及期刊数据集的一些
    概览。如：总期刊数量，blahblah.
</p>
{% endblock panel_body %}

{% block table_head %}
<tr>
    <th class="col-md-1">编号</th>
    <th class="col-md-3">期刊名</th>
    <th class="col-md-3">英文名</th>
    <th class="col-md-3">主办方</th>
    <th class="col-md-2">主编</th>
</tr>
{% endblock %}

{% block table_body %}
{% for journal in journals %}
    <tr>
        <td>{{ loop.index }}</td>
        <td><a href="{{ url_for('main.detail', issn=journal.issn) }}">{{ journal.cn_name }}</a></td>
        <td>{{ journal.en_name }}</td>
        <td>
        {% for editor in journal.editors %}
        {{ editor.name }} 
        {% endfor %}
        </td>
        <td>
        {% for organ in journal.organizers %}
        {{ organ.name }} 
        {% endfor %}
        </td>
    </tr>
{% endfor %}
{% endblock  %}